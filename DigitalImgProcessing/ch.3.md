>  Digital Image Processing Third Edit  by Gonzalez
>
>  Chapter 3 Digital Image Fundamentals

## 主要内容

空间域处理主要分为灰度变换和空间滤波两类。灰度在图像的单个像素上操作，主要处理对比度和阈值。空间滤波包括改善性能的操作，通过某像素的邻域处理该像素。本章的主要内容是灰度处理和空间滤波的基础知识和图像增强方面的应用。在以下内容中，$r,s$分别表示处理前后的像素值。

## 灰度变换

-  图像翻转： 灰度范围在$[0, L-1]$的图像的翻转：$s=L-1-r$。应用场景有照片底片，增强嵌入在一幅大片黑色的图像暗区中的白色或灰色细节点。

- 对数变换：$s=clog(1+r)$。其中$c$是常数。应用场景在扩展图像中暗像素的值，压缩更高灰度级的值。

- 幂律(伽马)变换: $s=cr^\gamma$。其中$c, \gamma$为正常数。将较窄范围的暗色输入值映射到较宽范围的输出值。也用于图像获取，打印和显示各种设备的响应（伽马校正）。

- 分段线性变换函数：

   -  对比度拉伸：低对比度图像可能是由照明不足，成像传感器动态范围太小，甚至在图像获取中错误设置光圈引起的。对比度拉伸是扩展图像灰度级动态范围的处理，可以跨越记录介质和显示装置的全部灰度范围。(P135)
   -  灰度级分层：突出图像中特定灰度范围的亮度（特征增强）。(P137)
   -  比特平面分层：一幅8比特灰度图像可以分成8个1比特平面。4个高阶比特屏幕，特别是最后两个比特平面，包含了视觉上的大多数特性。低阶比特平面包含了更精细的灰度细节。用于图像压缩。

   ## 直方图处理

   灰度级范围为$[0, L-1]$的数字图像直方图是离散函数$h(r_k)=n_k$，其中$r_k$是第$k$级灰度图像值，$n_k$是图像中灰度为$r_k$的像素个数。实践中用乘积$MN$表示的图像像素的总数来除以它每个分量进行直方图归一化。可以用于图像增强，压缩和分割。若一个图像的像素倾向于占据整个可能灰度级并且分布均匀，则该图像会有高对比度外观并展示灰色调的较大变化。

   ### 直方图均衡

   假设$r$的取值范围在$[0, L-1]$，且$r=0$代表黑色，$r=L-1$表示白色。变换式$s=T(r), 0 \leq r \leq L-1$/。如果$T(r)$在区间$0 \leq r \leq L-1$上为单调递增函数(为了保证或能每个值能一一映射)。当$0 \leq r \leq L-1$时，$0 \leq T(r) \leq L-1$。令$P_r(r), P_s(s)$分别表示随机变量$r, s$的概率密度函数。（P84）

   ### 局部直方图处理

   以图像中每个像素的邻域中的灰度分部为基础设计变换函数以增强图像中小区域的细节。定义一个邻域，将该区域中心从一个像素移至另一个像素，在每个位置计算邻域中的点的直方图得到归一化变换函数，用于映射邻域中心像素的灰度。然后邻域中心被移到一个相邻像素位置，重复该过程。当邻域进行逐个像素的平移时，由于只有邻域中的一行或者一列在改变，在每一步移动中，以新数据更新前一个位置得到直方图。

   ​

   ​

